# Template de Tarefa – Board do Projeto

> Este arquivo serve como **esqueleto obrigatório** para qualquer tarefa dentro de `docs/board`.
> O agente **não pode** criar tarefas fora deste formato.

---

## Identificação
- **ID da tarefa:** API-007
- **Título curto:** Recorrências: CRUD e geração mensal
- **Status:** TO-DO
- **Responsável (agente):** GPT-5.1-Codex-Max
- **Reasoning effort:** High

---

## Contexto
Recorrências são regras que geram projeções e, quando o mês inicia, produzem transações confirmadas. A API deve gerenciar `recurring.json` e permitir a geração das transações confirmadas conforme o calendário.

---

## Escopo da Tarefa
### Inclui
- CRUD de recorrências em `recurring.json`.
- Gerar transações confirmadas no início do mês aplicável.
- Manter a data definida mesmo em fins de semana.

### Não inclui (importante)
- Frequências além de mensal e anual.
- Ajustes automáticos de data para dias úteis.

---

## Regras de Negócio Relacionadas
- ideias.md: 6.1, 6.2, 6.3
- regras-de-negocio.md: 5.1, 5.2, 5.3, 5.4, 5.5
- modelos-json.md: 5

---

## Arquivos Impactados
- `server/...`

---

## Passos de Implementação Esperados
1. Implementar repositório de recorrências com validações de frequência e datas.
2. Implementar geração de transações confirmadas ao iniciar o mês aplicável.
3. Garantir que alterações em recorrências afetem apenas projeções futuras.

> O agente pode ajustar os passos, mas **não pode sair do escopo**.

---

## Critérios de Aceite
A tarefa só pode ser movida para **DONE** se **todos** forem verdadeiros:
- [ ] Regra de negócio respeitada
- [ ] Persistência segue o modelo JSON
- [ ] Não houve criação de funcionalidade fora do escopo
- [ ] Fluxo mínimo funcional validado manualmente

---

## Como Testar (Manual)
1. Criar uma recorrência mensal para o dia 10.
2. Executar a geração para um mês aplicável e verificar a transação confirmada criada.
3. Editar a recorrência e validar que apenas projeções futuras são impactadas.

---

## Pendências / Observações
- Nenhuma.