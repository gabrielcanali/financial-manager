# Template de Tarefa – Board do Projeto

> Este arquivo segue o template oficial do board.

---

## Identificação
- **ID da tarefa:** API-026
- **Título curto:** Ajuste de datas inválidas (salário e recorrências)
- **Status:** TO-DO
- **Responsável (agente):** Codex (GPT-5)
- **Reasoning effort:** Medium

---

## Contexto
O desk check trouxe regras sobre ajustes de datas quando o dia não existe no mês
e sobre pagamento em dia útil para salário.

---

## Escopo da Tarefa
### Inclui
- Ajustar data do salário para dia útil quando necessário.
- Ajustar recorrências para último dia do mês quando o dia não existir.
- Atualizar testes conforme as regras definidas.

### Não inclui (importante)
- Ajustes de datas em parcelamentos (aguarda definição).
- Alterações de regras sem confirmação explícita.

---

## Regras de Negócio Relacionadas
- regras-de-negocio.md: 5.5 (Recorrências), 7.2 (Salário)
- modelos-json.md: 2.2 (Datas), 4.6 (Salário), 5.3 (Recorrências)

---

## Arquivos Impactados
- `server/data/salary-repository.js`
- `server/data/recurring-repository.js`
- `server/tests/api.test.js`

---

## Passos de Implementação Esperados
1. Definir função de normalização de datas.
2. Aplicar normalização em salário e recorrências.
3. Atualizar testes.

> O agente pode ajustar os passos, mas **não pode sair do escopo**.

---

## Critérios de Aceite
A tarefa só pode ser movida para **DONE** se **todos** forem verdadeiros:
- [ ] Datas inválidas são ajustadas conforme regra definida.
- [ ] Salário respeita regra de dia útil.
- [ ] Testes passam.

---

## Como Testar (Manual)
1. Gerar salário/recorrência em meses com dia 31 inexistente.
2. Verificar data ajustada no JSON.

---

## Pendências / Observações
- Definir regra exata de dia útil (apenas fim de semana? feriados?).
- Confirmar direção do ajuste (sempre para trás ou para o próximo dia útil).
